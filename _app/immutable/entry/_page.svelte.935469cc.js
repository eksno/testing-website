import{S as Y,i as Z,s as ee,k as p,q as D,a as S,l as g,m as x,r as U,h as f,c as R,n as u,b as te,G as a,J as ne,H as A,o as le}from"../chunks/index.b56c3a56.js";let V;const se=new Uint8Array(16);function ae(){if(!V&&(V=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!V))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return V(se)}const r=[];for(let e=0;e<256;++e)r.push((e+256).toString(16).slice(1));function ie(e,t=0){return(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase()}let X,N,O=0,T=0;function ce(e,t,c){let s=t&&c||0;const l=t||new Array(16);e=e||{};let v=e.node||X,i=e.clockseq!==void 0?e.clockseq:N;if(v==null||i==null){const o=e.random||(e.rng||ae)();v==null&&(v=X=[o[0]|1,o[1],o[2],o[3],o[4],o[5]]),i==null&&(i=N=(o[6]<<8|o[7])&16383)}let d=e.msecs!==void 0?e.msecs:Date.now(),n=e.nsecs!==void 0?e.nsecs:T+1;const h=d-O+(n-T)/1e4;if(h<0&&e.clockseq===void 0&&(i=i+1&16383),(h<0||d>O)&&e.nsecs===void 0&&(n=0),n>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");O=d,T=n,N=i,d+=122192928e5;const m=((d&268435455)*1e4+n)%4294967296;l[s++]=m>>>24&255,l[s++]=m>>>16&255,l[s++]=m>>>8&255,l[s++]=m&255;const y=d/4294967296*1e4&268435455;l[s++]=y>>>8&255,l[s++]=y&255,l[s++]=y>>>24&15|16,l[s++]=y>>>16&255,l[s++]=i>>>8|128,l[s++]=i&255;for(let o=0;o<6;++o)l[s+o]=v[o];return t||ie(l)}function oe(e){let t,c,s,l,v,i,d,n,h,m,y,o,b,w,H,P,_,k,j,C,I,M,G;return{c(){t=p("main"),c=p("div"),s=p("h1"),l=D("Welcome to BallGame!"),v=S(),i=p("button"),d=p("span"),n=D("Lets Roll!"),h=S(),m=p("h1"),y=D('Click "Lets Roll!" to start playing!'),o=S(),b=p("div"),w=p("h1"),H=D("Look at the screen, you are playing!"),P=S(),_=p("div"),k=p("p"),j=D("UUID"),C=S(),I=p("p"),this.h()},l(q){t=g(q,"MAIN",{class:!0});var E=x(t);c=g(E,"DIV",{id:!0,class:!0});var L=x(c);s=g(L,"H1",{class:!0});var W=x(s);l=U(W,"Welcome to BallGame!"),W.forEach(f),v=R(L),i=g(L,"BUTTON",{class:!0});var $=x(i);d=g($,"SPAN",{class:!0});var F=x(d);n=U(F,"Lets Roll!"),F.forEach(f),$.forEach(f),h=R(L),m=g(L,"H1",{class:!0});var J=x(m);y=U(J,'Click "Lets Roll!" to start playing!'),J.forEach(f),L.forEach(f),o=R(E),b=g(E,"DIV",{id:!0,class:!0});var z=x(b);w=g(z,"H1",{class:!0});var K=x(w);H=U(K,"Look at the screen, you are playing!"),K.forEach(f),z.forEach(f),P=R(E),_=g(E,"DIV",{class:!0});var B=x(_);k=g(B,"P",{class:!0});var Q=x(k);j=U(Q,"UUID"),Q.forEach(f),C=R(B),I=g(B,"P",{class:!0,id:!0}),x(I).forEach(f),B.forEach(f),E.forEach(f),this.h()},h(){u(s,"class","text-4xl"),u(d,"class","relative px-5 py-2.5 transition-all ease-in duration-75 bg-gray-900 rounded-md group-hover:bg-opacity-0"),u(i,"class","relative inline-flex items-center justify-center p-0.5 mb-2 mr-2 overflow-hidden text-4xl font-medium rounded-lg group bg-gradient-to-br from-purple-600 to-blue-500 group-hover:from-purple-600 group-hover:to-blue-500 hover:text-white focus:ring-4 focus:outline-none focus:ring-blue-800"),u(m,"class","text-lg"),u(c,"id","landing"),u(c,"class","flex-auto grid h-auto place-items-center"),u(w,"class","text-lg"),u(b,"id","playing"),u(b,"class","hidden flex-auto grid place-items-center"),u(k,"class","text-slate-600"),u(I,"class","text-slate-600"),u(I,"id","uuid"),u(_,"class","h-20 flex items-center justify-center flex-col"),u(t,"class","h-screen flex flex-col bg-black text-white")},m(q,E){te(q,t,E),a(t,c),a(c,s),a(s,l),a(c,v),a(c,i),a(i,d),a(d,n),a(c,h),a(c,m),a(m,y),a(t,o),a(t,b),a(b,w),a(w,H),a(t,P),a(t,_),a(_,k),a(k,j),a(_,C),a(_,I),M||(G=ne(i,"click",e[0]),M=!0)},p:A,i:A,o:A,d(q){q&&f(t),M=!1,G()}}}const re="ws://localhost:3000/";function de(){let e=document.getElementById("landing"),t=document.getElementById("playing");(!e||!t)&&alert("Switch UI Failed"),e==null||e.classList.add("hidden"),t==null||t.classList.remove("hidden")}function ue(e){let t=!1;const c=ce();function s(n){t=!0,n.send(["-add",c].join("_"))}let l=null;le(async()=>{let n=document.getElementById("uuid");n&&(n.innerHTML=c),l=new WebSocket(re)});function v(){!t&&l!=null&&s(l),typeof DeviceOrientationEvent<"u"&&typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(n=>{n==="granted"&&window.addEventListener("deviceorientation",h=>{d(h)},!0)}).catch(console.error):window.addEventListener("deviceorientation",n=>{d(n)},!0)}function i(){v(),de()}function d(n){if(!l)return;let h=[0,0,0];n.alpha!=null&&n.beta!=null&&n.gamma!=null&&(h=[n.alpha,n.beta,n.gamma]),l.send(c+"_"+h.join(","))}return[i]}class he extends Y{constructor(t){super(),Z(this,t,ue,oe,ee,{})}}export{he as default};
